# tg-news-autoposter

Telegram‑бот, который агрегирует новости по теме VPN, кибербезопасности и ИИ из нескольких источников (3DNews, VC.ru, «Хакер», GitHub Trending) и публикует короткие посты на русском языке с AI‑выжимкой.

## Основные возможности

- **Агрегация из разных источников:** Парсинг RSS-лент и динамический сбор данных с HTML-страниц (VC.ru /new).
- **Умная фильтрация:** Используется «скоринговая» система — новость проходит, только если в ней найдено минимум 2 ключевых слова из списка разрешенных (VPN, DPI, ИИ, уязвимости и т.д.).
- **AI-генерация текста:** OpenAI (GPT-4o-mini) анализирует новость и пишет пост на русском языке, добавляя 2-4 конкретных практических совета.
- **Уникальные обложки:** Генерация абстрактных иллюстраций через pollinations.ai для каждой новости.
- **Авторское право:** Бот автоматически прикрепляет ссылку на оригинальный источник новости.

> ⚖️ **Disclaimer:** Код публикуется исключительно в образовательных целях. Автор не призывает к нарушению законодательства и не предоставляет инструкции по обходу ограничений.

## Требования

- Python 3.10+
- OpenAI API Key
- Telegram Bot Token (от @BotFather)
- ID канала или чата для публикации

## Переменные окружения

Создайте файл `.env` в корневой папке проекта и заполните его:

OPENAI_API_KEY=your_openai_api_key_here
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
CHANNEL_ID=@your_channel_username

FOOTER_TEXT — необязательная приписка в конце поста (например, ссылка на чат)
FOOTER_TEXT=\n\nПодписывайтесь на наш основной канал!

text

## Установка и запуск

1. **Клонируйте репозиторий:**
git clone https://github.com/kort0881/tg-news-autoposter.git
cd tg-news-autoposter

text

2. **Настройте виртуальное окружение:**
python -m venv venv
source venv/bin/activate # Для Linux/macOS

venv\Scripts\activate # Для Windows
text

3. **Установите зависимости:**
pip install -r requirements.txt

text

4. **Запустите бота:**
python telegrambot.py

text

## Техническая логика

1. **Сбор данных:** Бот опрашивает источники (3DNews, VC.ru, Хакер, GitHub Trending).
2. **Фильтрация:** Проверка на стоп-слова и подсчет релевантных ключей. Если статья подходит — она отправляется на обработку.
3. **OpenAI:** Нейросеть получает заголовок и анонс, после чего формирует пост объемом до 500 символов с фокусом на пользу для читателя.
4. **Изображение:** Бот формирует запрос к API генерации изображений на основе заголовка новости.
5. **Публикация:** Готовая карточка (картинка + текст + ссылка) улетает в Telegram.

## Лицензия

Распространяется под лицензией MIT. Подробности в файле [LICENSE](LICENSE).
Что еще нужно сделать:
Чтобы проект был полностью готов, создай в корне репозитория файл requirements.txt и вставь в него этот список библиотек:

text
aiogram==3.13.1
openai>=1.0.0
feedparser
requests
python-dotenv
